# Network Traffic Analysis (NTA) API User Story

| **Field** | Description | 
| ---- | ----- |
| API family name | Network Insights API |
| API summary | **Overview**: For private network monitoring, general users cannot intuitively perceive network performance status or identify performance bottlenecks and faults from complex metrics. Therefore, it is necessary to analyze and integrate raw network and device performance data to achieve monitoring of the entire private network’s status from a higher level.  <br /> **Correlation with network-insight API**: The Network Insights API collects, analyzes, and visualizes network-related data, applying deep analysis and insights to enable private network users to understand what is happening on the network, identify potential issues, and make smarter decisions. Specifically, the Network Traffic Analysis API utilizes DPI collection technology to capture communication traffic between all services or terminals within the network. By correlating service-specific data with devices and port resources, it aggregates and calculates the traffic flow for each service, thereby deriving service-based traffic distribution across the entire network. This data helps identify high-traffic services and traffic load conditions during different time periods, facilitating the provision of appropriate bandwidth for critical services through slicing technology, ultimately enabling efficient utilization of network resources.<br/> **Network Traffic Analysis API**: It allows users to directly query access traffic statistics for all services within a specified time period, including the number of accesses and the cumulative values of uplink and downlink traffic.<br /><br /> Proposed API Definitions <br /> -Input Parameters:<br />startTime: Start time for the analysis in the format 'YYYY-MM-DD HH:mm:ss'.<br />endTime: End time for the analysis in the format 'YYYY-MM-DD HH:mm:ss'.<br />Domain ID (optional): The platform defines the unique identifier for the service..<br />period: Period for the analysis ('DAY', 'HOUR', etc.).<br />page: Page number for pagination (optional).<br />pageSize: Number of records per page for pagination (optional).<br /><br /> -Output Parameters:<br />app: Application name. <br />address: Application address. <br />description: Application description. <br /> accessCount: Access count. <br />accessUpFlow: Upstream traffic flow. <br />accessDownFlow: Downstream traffic flow. <br />accessFlow: Total traffic flow. <br />startTime: Start time of the record. <br />endTime: End time of the record. <br />accessDate: Access date. <br /><br /> An example: Network traffic analysis relies on switches or UPFs to forward traffic data. The entire data management process can follow these steps:<br />Resource Management: The computing platform needs to maintain the private network service classification, as well as the relationship between services and application service addresses.<br />Data Collection: Utilizing DPI technology, all traffic data is intercepted via traffic tapping or mirrored ports and pushed to a dedicated data analysis server.<br />Data Statistical Analysis: Classify and organize data based on services.<br />Traffic Analysis Result Query: Private network users can query traffic analysis data for various services within a specified time period at any time.|
| Technical viability | This API requires the completion of device performance and alarm data collection. If collecting via a device management system, the collection protocol can be negotiated independently; if connecting directly to the device, collection via the SNMP protocol can be considered. Regarding the design of the health assessment calculation model, the key is to identify the indicators that best reflect performance and fault status across modules such as terminals, RAN, and core network. Then, based on the private network service type, set the weight and threshold for each indicator, and configure the source of the comparison value (period-over-period, year-over-year, or comparison against a fixed value).|
| Commercial viability | Health assessment is intended for organizations and individuals who need to monitor the status of their private network. It typically serves as a foundational feature for the monitoring dashboards of operators’ private network management platforms, and interfaces can also be opened up for private network users or third-party managed platforms to call for secondary development.| 

## ***Summary***

General private network users typically lack professional O&M capabilities and are unable to determine the actual operating status of the private network by directly inspecting devices or interpreting complex metric data provided by management platforms. Therefore, it is necessary to provide a series of higher-level visualization functions to facilitate self-management and self-operations for private network users. <br /> The Network Health Assessment API provides such capabilities for monitoring personnel, enabling them to perform private network health self-checks based on a preconfigured health assessment calculation model.
