# Network Traffic Analysis (NTA) API User Story

| **Field** | Description | 
| ---- | ----- |
| API family name | Network Insights API |
| API summary | **Overview**: For private network monitoring, general users cannot intuitively perceive network performance status or identify performance bottlenecks and faults from complex metrics. Therefore, it is necessary to analyze and integrate raw network and device performance data to achieve monitoring of the entire private network’s status from a higher level.  <br /> **Correlation with network-insight API**: The Network Insights API collects, analyzes, and visualizes network-related data, applying deep analysis and insights to enable private network users to understand what is happening on the network, identify potential issues, and make smarter decisions. Specifically, the Network Traffic Analysis API utilizes DPI collection technology to capture communication traffic between all services or terminals within the network. By correlating service-specific data with devices and port resources, it aggregates and calculates the traffic flow for each service, thereby deriving service-based traffic distribution across the entire network. This data helps identify high-traffic services and traffic load conditions during different time periods, facilitating the provision of appropriate bandwidth for critical services through slicing technology, ultimately enabling efficient utilization of network resources.<br/> **Network Traffic Analysis API**: It allows users to directly query access traffic statistics for all services within a specified time period, including the number of accesses and the cumulative values of uplink and downlink traffic.<br /><br /> Proposed API Definitions <br /> -Input Parameters:<br />startTime: Start time for the analysis in the format 'YYYY-MM-DD HH:mm:ss'.<br />endTime: End time for the analysis in the format 'YYYY-MM-DD HH:mm:ss'.<br />Domain ID (optional): The platform defines the unique identifier for the service..<br />period: Period for the analysis ('DAY', 'HOUR', etc.).<br />page: Page number for pagination (optional).<br />pageSize: Number of records per page for pagination (optional).<br /><br /> -Output Parameters:<br />app: Application name. <br />address: Application address. <br />description: Application description. <br /> accessCount: Access count. <br />accessUpFlow: Upstream traffic flow. <br />accessDownFlow: Downstream traffic flow. <br />accessFlow: Total traffic flow. <br />startTime: Start time of the record. <br />endTime: End time of the record. <br />accessDate: Access date. <br /><br /> An example: Network traffic analysis relies on switches or UPFs to forward traffic data. The entire data management process can follow these steps:<br />Resource Management: The computing platform needs to maintain the private network service classification, as well as the relationship between services and application service addresses.<br />Data Collection: Utilizing DPI technology, all traffic data is intercepted via traffic tapping or mirrored ports and pushed to a dedicated data analysis server.<br />Data Statistical Analysis: Classify and organize data based on services.<br />Traffic Analysis Result Query: Private network users can query traffic analysis data for various services within a specified time period at any time.|
| Technical viability | This API requires the association of service addresses with service definitions. Additionally, it needs to intercept and calculate data for requests and responses accessing various service applications. Since the performance and stability of existing applications must not be impacted, traffic mirroring or optical splitting can be considered for data collection and analysis.|
| Commercial viability | Network traffic analysis is suitable only for organizations and individuals who need to monitor private network traffic distribution. It generally serves as a basic function for the monitoring dashboards of operators’ private network product management platforms, or it can be opened via APIs for private network users or third-party managed platforms to call for secondary development.| 

## ***Summary***

In addition to focusing on network performance and faults to ensure network stability, private network users also need to monitor business operation status and identify potential performance bottlenecks. Although the developing network slicing technology provides service assurance for key enterprise services, in practice, network traffic analysis enables private network users to clarify the actual load of various services during different time periods, which is beneficial for accurately determining the upper and lower bandwidth limits required by the services.
